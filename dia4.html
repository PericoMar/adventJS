<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challenge 4</title>
</head>

<body>

    <script>
        //destructuring con el indexof de el inicio del parentesis y el final. (izq,der palind)
        function decode(message) {
            // Code here
            let izq;
            let der;
            let arrayMessage = message.split('');
            let hayAnidacion;
            while (arrayMessage.includes('(')) {
                hayAnidacion = arrayMessage.indexOf(')') >
                arrayMessage.indexOf('(', arrayMessage.indexOf('(') + 1) && 
                arrayMessage.indexOf('(', arrayMessage.indexOf('(') + 1) > 0;
                if (hayAnidacion) {
                    izq = arrayMessage.indexOf('(', arrayMessage.indexOf('(') + 1) + 1;
                    der = arrayMessage.indexOf(')') - 1;
                } else {
                    izq = arrayMessage.indexOf('(') + 1;
                    der = arrayMessage.indexOf(')') - 1;
                }
                while (izq < der) {
                    [arrayMessage[izq], arrayMessage[der]] = [arrayMessage[der], arrayMessage[izq]];
                    izq++;
                    der--;
                }
                if (hayAnidacion) {
                    arrayMessage.splice(arrayMessage.indexOf('(', arrayMessage.indexOf('(') + 1), 1);
                    arrayMessage.splice(arrayMessage.indexOf(')'), 1);
                } else {
                    arrayMessage.splice(arrayMessage.indexOf('('), 1);
                    arrayMessage.splice(arrayMessage.indexOf(')'), 1);
                }
            }
            return arrayMessage.join('');
        }

        const a = decode('hola (odnum)')
        console.log(a) // hola mundo

        const b = decode('(olleh) (dlrow)!')
        console.log(b) // hello world!

        const c = decode('sa(u(cla)atn)s')
        console.log(c) // santaclaus

    </script>
</body>

</html>